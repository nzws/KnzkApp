<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <meta http-equiv="Content-Security-Policy" content="default-src * knzkapp: data: gap: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <script src="components/loader.js"></script>
  <link rel="stylesheet" href="components/loader.css">
  <script src="components/onsenui/js/onsenui.min.js"></script>
  <link rel="stylesheet" href="components/onsenui/css/onsenui.min.css">
  <link rel="stylesheet" href="css/theme-roller/mastodon/onsen-css-components.min.css">
  <!-- for Testing
      <script src="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.8.3/js/onsenui.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.8.3/css/onsenui.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/onsen/2.8.3/css/onsen-css-components.css">
    -->
  <script src="lib/raven.min.js" async></script>
  <script src="lib/tmpl.min.js" async></script>
  <script src="lib/jquery-3.2.1.slim.min.js" async></script>
  <script src="lib/twitter.relative.time.min.js" async></script>
  <script src="lib/fetch.js" async></script>
  <script src="lib/atrament.min.js" async></script>
  <script src="lib/twemoji/twemoji.min.js" async></script>
  <script src="lib/i18n/i18next.min.js" async></script>
  <script src="lib/i18n/i18nextXHRBackend.min.js" async></script>
  <script src="lib/i18n/jquery-i18next.min.js" async></script>
  <link rel="stylesheet" href="css/theme-roller/components.css">
  <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/enquete.css">
  <link rel="stylesheet" href="css/custom-size.css">
  <link rel="stylesheet" id="css_md">
  <link rel="stylesheet" id="theme_css">
  <link rel="stylesheet" id="css_custom_platform">
  <script>
    const version = "KnzkApp 1.3.2";

    var now_TL = "",
      last_load_TL = "",
      tmp_post_text = "",
      toot_new_id = "",
      toot_old_id = "",
      account_toot_old_id = "",
      account_page_id = "",
      alert_new_id = "",
      alert_old_id = "",
      more_status_id = "",
      more_acct_id = "",
      tmp_bbcode_id = "",
      tmp_bbcode_limit = "",
      tmp_bbcode_tootbutton = "",
      emoji_list = Array(),
      account_page_acct = "",
      tmp_text_pre = "",
      tmp_post_reply = 0,
      tmp_post_visibility = "",
      follow_old_id = "",
      tmp_media_del_id = 0,
      tmp_media_del_obj = "",
      tag_old_id = "",
      tag_str = "",
      list_old_id = "",
      TL_websocket = {},
      ws_leavePage = false,
      image_mode = "",
      old_page = "",
      inst = "",
      home_auto_event = false,
      home_auto_mode = true,
      home_auto_num = 0,
      toot_limit = 500,
      doodle_old_color = null,
      doodle_mode = null,
      pageid = "",
      default_post_visibility = "",
      default_sensitive = false,
      config_tmp = {},
      original_post_text = "",
      original_post_userid = "",
      tl_postdata = {},
      acctdata = { "acct": {}, "rs": {} },
      emoji_search = [],
      platform = "",
      acct_mode = "",
      TlStoreData_pre = {},
      timeline_config = {},
      timeline_now_tab = 0,
      timeline_default_tab = 0,
      timeline_list_names = {},
      Notification_ws = null,
      Notification_num = 0,
      FCM_token = null,
      now_userconf = {},
      lng = "en",
      editing_id = "",
      user_icon = "",
      audio_playing = 0;
  </script>
  <script src="config/instance.js"></script>
  <script src="config/config.js"></script>
  <script src="config/radio.js"></script>
  <script src="js/tutorial.js"></script>
  <script src="js/locale.js"></script>
  <script src="js/notification.js"></script>
  <script src="js/bookmark.js"></script>
  <script src="js/filter.js"></script>
  <script src="js/emoji.js"></script>
  <script src="js/log.js"></script>
  <script src="js/config.js"></script>
  <script src="js/components.js"></script>
  <script src="js/login.js"></script>
  <script src="js/toot_new.js"></script>
  <script src="js/toot.js"></script>
  <script src="js/timeline.js"></script>
  <script src="js/account.js"></script>
  <script src="js/list.js"></script>
  <script src="js/music.js"></script>
  <script src="js/search.js"></script>
  <script src="js/doodle.js"></script>
  <script src="js/init.js"></script>
  <audio id="music-control"></audio>
  <style id="font-config"></style>
</head>

<body>
  <ons-splitter>
    <ons-splitter-side id="splitter-menu" side="left" width="250px" collapse animation="reveal">
      <ons-page>
        <ons-list>
          <ons-list-item class="splitter-profile-item" id="splitter-profile-bg">
            <div class="splitter-profile">
              <img src="img/missing.png" id="splitter-icon" class="user-logo" onclick="show_account(now_userconf['id'], true)" />
              <p>
                <h4 id="splitter-profile-name" class="acct-small" style="height: 20px"></h4>
              </p>
            </div>
          </ons-list-item>
          <ons-list-item tappable onclick="account_change_list()">
            <div class="center list-item-small">
              @<span id="account_change-username"></span>
            </div>
            <div class="right list-item-small">
              <ons-icon icon="fa-caret-down"></ons-icon>
            </div>
          </ons-list-item>
        </ons-list>
        <div id="menu-list-base">
          <div id="account-list" style="display: none;">
            <ons-list>
              <ons-list-item modifier="chevron" tappable onclick="open_addaccount()">
                <label class="left music-item">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-plus fa fa-fw"></i>
                </label>
                <div class="center music-item" data-i18n="account.add">
                  アカウント追加
                </div>
              </ons-list-item>
              <div id="account-list-other"></div>
            </ons-list>
          </div>
          <div id="menu-list">
            <ons-list>
              <ons-search-input placeholder="検索" data-i18n="[placeholder]navigation.search" onkeydown="SearchKey();" input-id="nav-search"
                class="w-max nav-search"></ons-search-input>
              <ons-list-header data-i18n="navigation.title">ナビゲーション</ons-list-header>
              <ons-list-item modifier="chevron" tappable onclick="loadNav('post.html', 'up');">
                <label class="left music-item">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-pencil fa fa-fw"></i>
                </label>
                <div class="center music-item" data-i18n="navigation.toot">
                  新規トゥート
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="openTL()">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-home fa fa-fw"></i>
                </div>
                <div class="center" data-i18n="timeline.title">
                  タイムライン
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="openTL('alert')">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-bell fa fa-fw"></i>
                </div>
                <div class="center">
                  <span data-i18n="navigation.notifications">通知</span> <span class="notification invisible noti_unread">1</span>
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="list('favourites', 'navigation.favourites', null, 'toot')" id="menu-fav-page"
                class="invisible">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-star fa fa-fw"></i>
                </div>
                <div class="center" data-i18n="navigation.favourites">
                  お気に入り一覧
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="list('follow_requests', 'navigation.follow_req', null, 'acct')" id="menu-followreq"
                class="invisible">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-users fa fa-fw"></i>
                </div>
                <div class="center" data-i18n="navigation.follow_req">
                  フォローリクエスト
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="load('usermenu.html')">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-ellipsis-h fa fa-fw"></i>
                </div>
                <div class="center" data-i18n="navigation.user_menu">
                  ユーザーメニュー
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="load('config.html')">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-cog fa fa-fw"></i>
                </div>
                <div class="center" data-i18n="navigation.preferences">
                  設定
                </div>
              </ons-list-item>
              <ons-list-item modifier="chevron" tappable onclick="music_change()">
                <div class="left">
                  <i class="list-item__icon list-item--chevron__icon ons-icon fa-music fa fa-fw"></i>
                </div>
                <div class="center">
                  <span class="list-item__title">Radio</span><span class="list-item__subtitle" id="music_title">Not Playing</span>
                </div>
              </ons-list-item>
            </ons-list>
          </div>
          <form id="music-form" style="display: none;">
            <ons-list>
              <ons-list-item>
                <div class="left" onclick="music_change()">
                  <i class="list-item__icon ons-icon fa-chevron-left fa fa-fw"></i> <span data-i18n="navigation.back">戻る</span>
                </div>
                <div class="right" onclick="radioToggle()">
                  <i class="list-item__icon ons-icon fa fa-fw fa-play" id="music-button"></i>
                </div>
              </ons-list-item>
              <ons-list-header>Channel</ons-list-header>
              <div id="radio_list"></div>
            </ons-list>
          </form>
        </div>
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content id="splitter-content" page="init.html"></ons-splitter-content>
  </ons-splitter>
  <ons-template id="usermenu.html">
    <ons-page id="usermenu-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-bars"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="navigation.user_menu">ユーザーメニュー</div>
      </ons-toolbar>
      <ons-list>
        <ons-list-item modifier="chevron" tappable onclick="list('favourites', 'navigation.favourites', null, 'toot', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-star fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.favourites">
            お気に入り一覧
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('pin', 'navigation.pinned_toots', null, 'toot', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-thumb-tack fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.pinned_toots">
            固定したトゥート
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('timelines/direct', 'navigation.dm_tl', null, 'toot', true)" id="dmtimeline_bt">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-envelope fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.dm_tl">
            ダイレクトメッセージ
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('follow_requests', 'navigation.follow_req', null, 'acct', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-users fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.follow_req">
            フォローリクエスト
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('mutes', 'navigation.muted_users', null, 'acct', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-volume-off fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.muted_users">
            ミュートしたユーザー
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('blocks', 'navigation.blocked_users', null, 'acct', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-ban fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.blocked_users">
            ブロックしたユーザー
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="list('domain_blocks', 'navigation.hidden_domains', null, 'domain', true)">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-minus-circle fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.hidden_domains">
            非表示にしたドメイン
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('config_filter.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-filter fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="app_filter.title">
            フィルター
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="LoadrepStatus()">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-gavel fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="navigation.report_status">
            通報ステータス
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="LoadBookmark()">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-bookmark fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="bookmark.title">
            ブックマーク一覧
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('lists.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-bars fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="lists.title">
            リスト
          </div>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <template id="init.html">
    <ons-page>
      <ons-navigator id="navigator" page="home.html" swipeable></ons-navigator>
    </ons-page>
  </template>
  <ons-template id="home.html">
    <ons-page id="home">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="TL_prev()">
            <ons-icon icon="fa-angle-left"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" onclick="scrollTL()"><span id="home_title">Loading now...</span> <span class="notification invisible"
            id="home_title_unread">1</span></div>
        <div class="right">
          <ons-toolbar-button onclick="showTL(null, null, null, true)">
            <ons-icon icon="fa-refresh"></ons-icon>
          </ons-toolbar-button>
          <ons-toolbar-button onclick="TL_next()">
            <ons-icon icon="fa-angle-right"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-gesture-detector>
        <ons-tabbar hide-tabs id="tl_tabs">
          <ons-tab page="tl-0.html"></ons-tab>
          <ons-tab page="tl-1.html"></ons-tab>
          <ons-tab page="tl-2.html"></ons-tab>
          <ons-tab page="tl-3.html"></ons-tab>
          <ons-tab page="tl-4.html"></ons-tab>
          <ons-tab page="tl-5.html"></ons-tab>
          <ons-tab page="tl-6.html"></ons-tab>
          <ons-tab page="tl-7.html"></ons-tab>
          <ons-tab page="tl-8.html"></ons-tab>
          <ons-tab page="tl-9.html"></ons-tab>
        </ons-tabbar>
      </ons-gesture-detector>
      <ons-speed-dial position="bottom right" direction="up" onclick="opendial()" id="dial_main" class="invisible">
        <ons-fab>
          <ons-icon icon="fa-bell" id="dial-icon"></ons-icon>
        </ons-fab>
      </ons-speed-dial>
      <ons-speed-dial position="bottom right" direction="up" id="dial_TL" class="invisible" onclick="$('#TLChangeTab').show()">
        <ons-fab>
          <ons-icon icon="fa-home"></ons-icon>
        </ons-fab>
      </ons-speed-dial>
      <ons-bottom-toolbar id="simple_toot_TL_toolbar">
        <form id="simple_toot_form">
          <input type="hidden" id="nsfw_input_simple">
          <input type="hidden" id="localonly_input_simple">
          <input type="hidden" id="post_mode_simple" value="public">
          <input type="hidden" id="post_reply_simple">
          <input type="file" id="post_file_simple" class="invisible" onchange="up_file(true)" accept="image/*;capture=camera">
          <ons-list>
            <ons-list-item style="padding-left: 0" class="simple-toot">
              <div class="left" style="padding-right: 6px">
                <ons-button modifier="quiet" onclick="fn.open()" class="no-rd">
                  <img id="home-icon" src="img/missing.png" />
                  <span class="notification invisible noti_unread">1</span>
                </ons-button>
              </div>
              <div class="center">
                <textarea class="textarea w-max" rows="1" placeholder="トゥート！" id="simple_toot_TL_input" onfocus="simple_open()" onkeyup="check_limit(value, 'toot_limit_simple', 'toot-button_simple', 'simple_toot_cw');"></textarea>
              </div>
              <div class="right" style="padding-right: 0">
                <ons-button modifier="quiet" class="no-rd" onclick="post('simple_toot_TL_input', {cw:elemId('simple_toot_cw').value, visibility:elemId('post_mode_simple').value, sensitive:elemId('nsfw_input_simple').value, in_reply_to_id: elemId('post_reply_simple').value, local_only: elemId('localonly_input_simple').value}, true)"
                  id="toot-button_simple">
                  <ons-icon icon="fa-paper-plane-o"></ons-icon>
                </ons-button>
              </div>
            </ons-list-item>
          </ons-list>
          <ons-list>
            <ons-list-item style="padding-left: 0" class="simple-toot invisible" id="simple_more">
              <ons-button modifier="quiet" onclick="post_mode(true)" class="no-rd" id="post_mode_bt_simple">
                <ons-icon icon="fa-globe" id="post_mode_icon_simple"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" onclick="showPopover(this, 'image_popover')" class="no-rd" id="new_up_bt_simple">
                <ons-icon icon="fa-picture-o"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" onclick="showPopover(this, 'cw_popover')" class="no-rd">CW</ons-button>
              <ons-button onclick="post_localonly(true)" id="localonly_bt_simple" modifier="quiet" class="no-rd invisible">
                <ons-icon icon="fa-home"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" onclick="showPopover(this, 'tools_popover')" class="no-rd" id="tools_bt_simple">
                <ons-icon icon="fa-magic"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" onclick="showPopover(this, 'emoji_popover')" class="no-rd" id="simple_emoji_bt">
                <ons-icon icon="fa-smile-o"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" onclick="showPopover(this, 'cp_popover')" class="no-rd invisible" id="simple_cp_bt">
                <ons-icon icon="fa-clipboard"></ons-icon>
              </ons-button>
              <ons-button modifier="quiet" class="no-rd" id="toot_limit_simple">4096</ons-button>
              <ons-button modifier="quiet" class="no-rd" onclick="simple_close()">
                <ons-icon icon="fa-chevron-down"></ons-icon>
              </ons-button>
            </ons-list-item>
          </ons-list>
        </form>
      </ons-bottom-toolbar>
      <ons-popover direction="up" id="tools_popover">
        <div style="padding: 10px; text-align: center;">
          <p>
            <ons-button onclick="hidePopover('tools_popover');showPopover(elemId('tools_bt_simple'), 'vote_popover')" class="w-max invisible"
              id="vote_bt_simple">
              <ons-icon icon="fa-align-left"></ons-icon>
              Enquete
            </ons-button>
            <ons-button onclick="hidePopover('tools_popover');show_bbcodegen('simple_toot_TL_input')" class="w-max invisible" style="margin-top: 5px"
              id="bbcode_bt_simple">
              <ons-icon icon="fa-font"></ons-icon>
              BBCode
            </ons-button>
            <ons-button onclick="hidePopover('tools_popover');openDoodle('simple')" class="w-max" style="margin-top: 5px">
              <ons-icon icon="fa-paint-brush"></ons-icon>
              Doodle
            </ons-button>
            <ons-button onclick="hidePopover('tools_popover');add_emoji_simple('｜漢字《》')" class="w-max invisible" style="margin-top: 5px"
              id="yomigana_bt_simple">読み仮名</ons-button>
            <p id="md_note_simple" class="invisible" data-i18n="toot.md.note">*MarkDownはスワイプメニュー→新規トゥートから使用できます</p>
          </p>
          <p>
            <ons-button onclick="hidePopover('tools_popover')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
          </p>
        </div>
      </ons-popover>
      <ons-popover direction="up" id="cp_popover">
        <div style="padding: 10px; text-align: center;">
          <p>
            <ons-button onclick="hidePopover('cp_popover');copy(elemId('simple_toot_TL_input').value)" class="w-max" data-i18n="copyoption.copy">全てコピー</ons-button>
            <ons-button onclick="hidePopover('cp_popover');paste_simple()" style="margin-top: 5px" class="w-max" data-i18n="copyoption.paste">ペースト</ons-button>
          </p>
          <p>
            <ons-button onclick="hidePopover('cp_popover')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
          </p>
        </div>
      </ons-popover>
      <ons-popover direction="up" id="cw_popover">
        <div style="padding: 10px; text-align: center;">
          <p>
            <ons-input id="simple_toot_cw" modifier="underbar" placeholder="警告文を書いてください" data-i18n="[placeholder]toot.cw" class="w-max black_text"
              onkeyup="check_limit(value, 'toot_limit_simple', 'toot-button_simple', 'simple_toot_TL_input');"></ons-input>
          </p>
          <p>
            <ons-button onclick="hidePopover('cw_popover')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
          </p>
        </div>
      </ons-popover>
      <ons-popover direction="up" id="image_popover">
        <div style="padding: 10px; text-align: center;">
          <p>
            <div id="image_list_simple"></div>
          </p>
          <p>
            <ons-button onclick="up_file(true)" class="w-max" data-i18n="toot.picture">画像追加</ons-button>
          </p>
          <p>
            <ons-button onclick="post_nsfw(true)" style="margin-bottom: 5px" id="nsfw_bt_simple" modifier="quiet">
              <ons-icon icon="fa-eye"></ons-icon>
              NSFW
            </ons-button>
            <ons-button onclick="hidePopover('image_popover')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
          </p>
        </div>
      </ons-popover>
      <ons-popover direction="up" id="vote_popover">
        <div style="padding: 10px; text-align: center;">
          <p>
            <form id="simple_vote">
              <ons-input id="vote_new_1_simple" modifier="underbar" placeholder="項目1" data-i18n="[placeholder]toot.enquete.column1" class="w-max black_text"></ons-input>
              <ons-input id="vote_new_2_simple" modifier="underbar" placeholder="項目2" data-i18n="[placeholder]toot.enquete.column2" class="w-max black_text"></ons-input>
              <ons-input id="vote_new_3_simple" modifier="underbar" placeholder="項目3(任意)" data-i18n="[placeholder]toot.enquete.column3"
                class="w-max black_text"></ons-input>
              <ons-input id="vote_new_4_simple" modifier="underbar" placeholder="項目4(任意)" data-i18n="[placeholder]toot.enquete.column4"
                class="w-max black_text"></ons-input>
              <ons-select id="vote_new_time_simple" class="w-max black_text invisible" modifier="underbar">
                <option value="30" data-i18n="toot.enquete.30s">30秒</option>
                <option value="60" data-i18n="toot.enquete.1m">1分</option>
                <option value="180" data-i18n="toot.enquete.3m">3分</option>
                <option value="300" data-i18n="toot.enquete.5m">5分</option>
                <option value="600" data-i18n="toot.enquete.10m">10分</option>
                <option value="3600" data-i18n="toot.enquete.1h">1時間</option>
                <option value="86400" data-i18n="toot.enquete.1d">1日</option>
              </ons-select>
            </form>
          </p>
          <p>
            <ons-button onclick="hidePopover('vote_popover')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
          </p>
        </div>
      </ons-popover>
    </ons-page>
  </ons-template>

  <ons-template id="tl-0.html">
    <ons-page id="TL0_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-1.html">
    <ons-page id="TL1_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-2.html">
    <ons-page id="TL2_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-3.html">
    <ons-page id="TL3_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-4.html">
    <ons-page id="TL4_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-5.html">
    <ons-page id="TL5_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-6.html">
    <ons-page id="TL6_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-7.html">
    <ons-page id="TL7_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-8.html">
    <ons-page id="TL8_main" class="timeline"></ons-page>
  </ons-template>
  <ons-template id="tl-9.html">
    <ons-page id="TL9_main" class="timeline"></ons-page>
  </ons-template>

  <ons-template id="alert.html">
    <ons-page id="alert-page">
      <ons-toolbar>
        <div class="left" id="alert_button">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-bars"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="navigation.notifications">通知</div>
        <div class="right">
          <ons-toolbar-button onclick="reset_alert()">
            <ons-icon icon="trash"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-pull-hook id="ph-alert" class="dark-bg">
        <ons-icon icon="fa-refresh" class="white"></ons-icon>
      </ons-pull-hook>
      <div id="alert_main">
        <div class="loading-now">
          <ons-progress-circular indeterminate></ons-progress-circular>
        </div>
      </div>
      <ons-speed-dial position="bottom right" direction="up" id="alert-speed_dial" class="invisible">
        <ons-fab onclick="BackTab()">
          <ons-icon icon="fa-chevron-left"></ons-icon>
        </ons-fab>
      </ons-speed-dial>
    </ons-page>
  </ons-template>
  <ons-template id="userconf.html">
    <ons-page id="userconf-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.preferences">設定</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="config.profile.title">ユーザー情報編集</div>
        <div class="right">
          <ons-toolbar-button onclick="update_userdata()">
            <ons-icon icon="fa-check"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <p></p>
      <div class="container">
        <p>
          <ons-input id="userconf-display_name" modifier="underbar" placeholder="表示名" data-i18n="[placeholder]config.profile.display_name"
            class="w-max"></ons-input>
        </p>
        <p><textarea class="textarea w-max" rows="5" placeholder="プロフィール" data-i18n="[placeholder]config.profile.bio" id="userconf-note"></textarea></p>
      </div>
      <ons-list>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="userconf-lock"></ons-checkbox>
          </label>
          <label for="userconf-lock" class="center" data-i18n="config.profile.lock">
            非公開アカウント
          </label>
        </ons-list-item>
      </ons-list>
      <div class="container">
        <p class="note" data-i18n="config.profile.note">* 文字数制限を超えると保存に失敗します。</p>
      </div>
      <ons-list>
        <ons-list-item modifier="chevron" tappable onclick="openURL('https://' + inst + '/settings/preferences')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-cogs fa fa-fw"></i>
          </div>
          <div class="center">
            <span class="list-item__title" data-i18n="config.profile.advanced_setting">詳細な設定</span><span class="list-item__subtitle"
              data-i18n="config.profile.advanced_setting_note">Mastodon 設定ページに移動します</span>
          </div>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <ons-template id="config.html">
    <ons-page id="config-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-bars"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="navigation.preferences">設定</div>
      </ons-toolbar>
      <ons-list>
        <ons-list-item modifier="chevron" onclick="openURL('https://' + inst + '/about/more')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-book fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="config.preferences.about_instance">
            インスタンス情報
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('about.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-book fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="config.preferences.about_app">
            このアプリについて
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('userconf.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-user-circle fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="config.profile.title">
            ユーザー情報編集
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('config_notification.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-bell-o fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="config.notification.title">
            プッシュ通知設定
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('config_TL.html')">
          <div class="left">
            <i class="list-item__icon list-item--chevron__icon ons-icon fa-sliders fa fa-fw"></i>
          </div>
          <div class="center" data-i18n="config.preferences.tl.edit.title">
            タイムライン編集
          </div>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.tl.title">タイムライン設定</ons-list-header>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.speech.title">
            トゥート読み上げ
          </div>
          <div class="right">
            <ons-select id="conf-tl_speech" onchange="change_conf(1, 'tl_speech', true)">
              <option value="" data-i18n="config.preferences.tl.speech.none">なし</option>
              <option value="en-US" id="tl_speech_en-US">English</option>
              <option value="ja-JP" id="tl_speech_ja-JP">日本語</option>
            </ons-select>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.tl.chatmode.title">逆順表示</span><span class="list-item__subtitle"
              data-i18n="config.preferences.tl.chatmode.sub">下に行くほど最新の投稿になるモード</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'chatmode')" input-id="conf-chatmode"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.joke">
            ジョークモード
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'joke')" input-id="conf-joke"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.realtime">
            リアルタイム更新
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'realtime')" input-id="conf-realtime"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.cw">
            CW文章を常に表示する
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'cw')" input-id="conf-cw"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.nsfw">
            NSFWメディアを常に表示する
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'nsfw')" input-id="conf-nsfw"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="loadNav('config_collapse.html')">
          <div class="center" data-i18n="config.collapsed.title">
            トゥートの折りたたみ
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.resume_reload">
            復帰時にリロードしない
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'resume_reload')" input-id="conf-resume_reload"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.tl.speed_dial.title">
            スピードダイヤル設定
          </div>
          <div class="right">
            <ons-select id="conf-dial" onchange="change_conf(1, 'dial', true)">
              <option value="" data-i18n="config.preferences.tl.speed_dial.none">なし</option>
              <option value="toot" id="dial_toot" data-i18n="config.preferences.tl.speed_dial.toot">新規トゥート</option>
              <option value="alert" id="dial_alert" data-i18n="config.preferences.tl.speed_dial.notification">通知</option>
              <option value="reload" id="dial_reload" data-i18n="config.preferences.tl.speed_dial.reload">TL更新</option>
              <option value="change" id="dial_change" data-i18n="config.preferences.tl.speed_dial.menu">TLメニュー</option>
            </ons-select>
          </div>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.display.title">表示設定</ons-list-header>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.display.bigfav">大きなお気に入りボタン</span><span class="list-item__subtitle">for
              おにいさん
            </span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'bigfav')" input-id="conf-bigfav"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.display.spin">
            回転を無効化 (BBCode)
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'spin')" input-id="conf-spin"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.display.menu_fav">
            メニューにお気に入り一覧を表示
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'menu-fav')" input-id="conf-menu-fav"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.display.image_full">
            メディアのプレビューで全体を表示する
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'image_full')" input-id="conf-image_full"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.display.copy.title">コピペオプションを表示</span><span class="list-item__subtitle"
              data-i18n="config.preferences.display.copy.sub">OS標準のコピペに問題が発生した場合は有効にしてください</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'cp_popover')" input-id="conf-cp_popover"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.display.theme">
            テーマ
          </div>
          <div class="right">
            <ons-select id="conf-theme" onchange="change_conf(1, 'theme', true)">
              <option value="">Mastodon</option>
              <option value="css/theme/dark.css" id="theme_css/theme/dark.css">Dark</option>
            </ons-select>
          </div>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.system.title">システム設定</ons-list-header>
        <ons-list-item>
          <div class="center">
            Language
          </div>
          <div class="right">
            <ons-select id="lang-conf" onchange="changeLanguage(this.value)">
              <option value="">Default</option>
              <option value="en">English</option>
              <option value="ja">日本語</option>
            </ons-select>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.system.openurl.title">
            リンクの開き方
          </div>
          <div class="right">
            <ons-select id="conf-url_open" onchange="change_conf(1, 'url_open', true)">
              <option value="" data-i18n="config.preferences.system.openurl.inapp">アプリ内ブラウザ</option>
              <option value="Inapp" id="url_Inapp" data-i18n="config.preferences.system.openurl.inapp_older">アプリ内ブラウザ(旧)</option>
              <option value="OS" id="url_OS" data-i18n="config.preferences.system.openurl.browser">OSの標準ブラウザ</option>
            </ons-select>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.system.swipe_menu.title">スワイプの検知方法</span><span class="list-item__subtitle"
              data-i18n="[html]config.preferences.system.swipe_menu.sub">有効にすると高精度になりますがTLのスクロールが難しくなります</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'swipe_menu')" input-id="conf-swipe_menu"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.system.gpu.title">ハードウェアアクセラレーションを無効化</span><span
              class="list-item__subtitle" data-i18n="config.preferences.system.gpu.sub">表示に問題が発生する場合はオン</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'gpu')" input-id="conf-gpu"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.system.SendLog.title">エラーログを開発者に送信</span><span class="list-item__subtitle"><a
                href="https://knzkapp.nzws.me/privacy.html" target="_blank" data-i18n="config.preferences.system.SendLog.sub">プライバシーポリシー</a></span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'SendLog', null, true)" input-id="conf-SendLog"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="config.preferences.system.no_unread_label">
            未読通知ラベルを表示しない
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'no_unread_label')" input-id="conf-no_unread_label"></ons-switch>
          </div>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.eco.title">節約設定</ons-list-header>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.eco.gif.title">アニメーションGIFを使用しない</span><span class="list-item__subtitle"
              data-i18n="config.preferences.eco.gif.sub">電池の節約</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'no_gif')" input-id="conf-no_gif"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center">
            <span class="list-item__title" data-i18n="config.preferences.eco.custom_emoji.title">カスタム絵文字を使用しない</span><span
              class="list-item__subtitle" data-i18n="config.preferences.eco.custom_emoji.sub">ネットワーク通信の節約</span>
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(1, 'no_custom_emoji')" input-id="conf-no_custom_emoji"></ons-switch>
          </div>
        </ons-list-item>
        <ons-list-header data-i18n="config.preferences.font.title">フォントサイズ</ons-list-header>
      </ons-list>
      <ons-list modifier="inset">
        <ons-list-header><span data-i18n="config.preferences.font.button">トゥートの各ボタン</span> <a href="#" onclick="setConfig(1, 'font_button', 50);elemId('conf-font_button').value = 50;renderFontConfig()"
            data-i18n="config.preferences.font.reset">リセット</a></ons-list-header>
        <ons-list-item>
          <ons-col>
            <ons-range class="w-max" value="50" onchange="change_conf(1, 'font_button', true);renderFontConfig()" id="conf-font_button"
              data-config="range"></ons-range>
          </ons-col>
        </ons-list-item>

        <ons-list-header><span data-i18n="config.preferences.font.body">トゥート本文</span> <a href="#" onclick="setConfig(1, 'font_body', 50);elemId('conf-font_body').value = 50;renderFontConfig()"
            data-i18n="config.preferences.font.reset">リセット</a></ons-list-header>
        <ons-list-item>
          <ons-col>
            <ons-range class="w-max" value="50" onchange="change_conf(1, 'font_body', true);renderFontConfig()" id="conf-font_body" data-config="range"></ons-range>
          </ons-col>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.font.preview">プレビュー</ons-list-header>
        <div id="font-preview" class="near_federated"></div>
      </ons-list>
      <div class="container">
        <p class="note" data-i18n="config.preferences.note">一部の設定は再起動後に反映されます。</p>
      </div>
      <ons-list class="danger_list">
        <ons-list-header class="danger_title">Danger Zone</ons-list-header>
        <ons-list-item modifier="chevron" tappable onclick="clearAllBookmark()">
          <span data-i18n="config.preferences.danger.bookmarks">全アカウントのブックマークを削除</span>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="clearAllConfig()">
          <span data-i18n="config.preferences.danger.settings">設定をリセット</span>
        </ons-list-item>
        <ons-list-item modifier="chevron" tappable onclick="clearAllAccount()">
          <span data-i18n="config.preferences.danger.accounts">全アカウントからログアウト</span>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <ons-template id="config_collapse.html">
    <ons-page id="config_collapse-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.preferences">設定</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="config.collapsed.title">トゥート折りたたみ</div>
      </ons-toolbar>
      <ons-list>
        <ons-list-item>
          <div class="center" data-i18n="config.collapsed.enable">
            折りたたみを有効化
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="change_conf(2, 'collapse')" input-id="conf-col-collapse"></ons-switch>
          </div>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.collapsed.auto.title">自動折りたたみ</ons-list-header>
        <ons-list-item tappable onclick="change_conf(2, 'all')">
          <label class="left">
            <ons-checkbox input-id="conf-col-all"></ons-checkbox>
          </label>
          <label for="conf-col-all" class="center" data-i18n="config.collapsed.auto.all">すべて</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'alert')">
          <label class="left">
            <ons-checkbox input-id="conf-col-alert"></ons-checkbox>
          </label>
          <label for="conf-col-alert" class="center" data-i18n="config.collapsed.auto.notification">通知</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'leng')">
          <label class="left">
            <ons-checkbox input-id="conf-col-leng"></ons-checkbox>
          </label>
          <label for="conf-col-leng" class="center" data-i18n="config.collapsed.auto.long">長いトゥート</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'bs')">
          <label class="left">
            <ons-checkbox input-id="conf-col-bs"></ons-checkbox>
          </label>
          <label for="conf-col-bs" class="center" data-i18n="config.collapsed.auto.boost">ブースト</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 're')">
          <label class="left">
            <ons-checkbox input-id="conf-col-re"></ons-checkbox>
          </label>
          <label for="conf-col-re" class="center" data-i18n="config.collapsed.auto.mention">返信</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'media')">
          <label class="left">
            <ons-checkbox input-id="conf-col-media"></ons-checkbox>
          </label>
          <label for="conf-col-media" class="center" data-i18n="config.collapsed.auto.media">メディアトゥート</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'pinned')">
          <label class="left">
            <ons-checkbox input-id="conf-col-pinned"></ons-checkbox>
          </label>
          <label for="conf-col-pinned" class="center" data-i18n="config.collapsed.auto.pinned">ピン留めトゥート</label>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.collapsed.bg.title">背景</ons-list-header>
        <ons-list-item tappable onclick="change_conf(2, 'bg')">
          <label class="left">
            <ons-checkbox input-id="conf-col-bg"></ons-checkbox>
          </label>
          <label for="conf-col-bg" class="center" data-i18n="config.collapsed.bg.collapse">折りたたみ時の背景を変更</label>
        </ons-list-item>
        <ons-list-item tappable onclick="change_conf(2, 'preview')">
          <label class="left">
            <ons-checkbox input-id="conf-col-preview"></ons-checkbox>
          </label>
          <label for="conf-col-preview" class="center" data-i18n="config.collapsed.bg.preview">メディアプレビュー</label>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.collapsed.more.title">詳細</ons-list-header>
        <ons-list-item tappable onclick="change_conf(2, 'alert_m')">
          <label class="left">
            <ons-checkbox input-id="conf-col-alert_m"></ons-checkbox>
          </label>
          <label for="conf-col-alert_m" class="center" data-i18n="config.collapsed.more.alert">通知で自分の投稿はアイコン/名前を表示しない</label>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <ons-template id="config_notification.html">
    <ons-page id="config_notification-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.preferences">設定</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="config.notification.title">プッシュ通知</div>
        <div class="right">
          <ons-toolbar-button onclick="changeNotification(true)">
            <ons-icon icon="fa-floppy-o"></ons-icon>
            <span data-i18n="config.notification.save">保存</span>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-list>
        <ons-list-item>
          <div class="center" data-i18n="config.notification.enable">
            プッシュ通知を有効化
          </div>
          <div class="right">
            <ons-switch modifier="material" onclick="changeNotification()" input-id="noti-mode"></ons-switch>
          </div>
        </ons-list-item>
      </ons-list>
      <div class="container">
        <p><b data-i18n="config.notification.note">*設定を保存するまでサーバー上に更新されません。</b></p>
      </div>
      <div class="container">
        <h4 data-i18n="config.notification.default.title">通常の通知</h4>
      </div>
      <ons-list>
        <ons-list-header data-i18n="config.notification.default.everyone.title">除外する通知 (全員)</ons-list-header>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="noti-mute-all"></ons-checkbox>
          </label>
          <label for="noti-mute-all" class="center" data-i18n="config.notification.default.everyone.all">すべて</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="noti-mute-follow"></ons-checkbox>
          </label>
          <label for="noti-mute-follow" class="center" data-i18n="config.notification.default.everyone.follow">フォロー</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="noti-mute-mention"></ons-checkbox>
          </label>
          <label for="noti-mute-mention" class="center" data-i18n="config.notification.default.everyone.mention">メンション</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="noti-mute-reblog"></ons-checkbox>
          </label>
          <label for="noti-mute-reblog" class="center" data-i18n="config.notification.default.everyone.boost">ブースト</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="noti-mute-favourite"></ons-checkbox>
          </label>
          <label for="noti-mute-favourite" class="center" data-i18n="config.notification.default.everyone.favourite">お気に入り</label>
        </ons-list-item>
      </ons-list>
      <ons-list>
        <ons-list-header data-i18n="config.notification.default.user.title">ミュートする通知 (ユーザー)</ons-list-header>
      </ons-list>
      <div class="container">
        <span data-i18n="[html]config.notification.default.user.sub">
          ユーザーごとの通知制御は<a href="#" onclick="loadNav('config_filter.html')"><b>ユーザーメニュー &gt; フィルター</b></a>より行えます。
        </span>
        <br>
        <span data-i18n="config.notification.default.user.note">
          *ユーザー通知ミュート反映にはアプリの再起動が必要です。
        </span>
      </div>
      <div class="container">
        <h4><span data-i18n="config.notification.keyword.title">キーワード検知</span> <button class="button button--outline" style="border-radius: 100%;line-height: initial;"
            onclick="addKeyWord()"><i class="zmdi zmdi-plus"></i></button></h4><span data-i18n="config.notification.keyword.watch">HTLをウォッチします</span>
      </div>
      <ons-list id="keyword_list"></ons-list>
      <div class="container">
        <p>
          <span data-i18n="config.notification.keyword.note">* タップで削除できます。</span>
        </p>
      </div>
    </ons-page>
  </ons-template>

  <ons-template id="config_filter.html">
    <ons-page id="config_filter-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="app_filter.title">フィルター</div>
        <div class="right">
          <ons-toolbar-button onclick="loadNav('editFilter.html')">
            <ons-icon icon="fa-plus"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-list id="filter_list"></ons-list>
      <div class="container">
        <p data-i18n="app_filter.note">
          *プッシュ通知ミュートの反映にはアプリの再起動が必要です。
        </p>
      </div>
    </ons-page>
  </ons-template>

  <ons-template id="editFilter.html">
    <ons-page id="editfilter-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="app_filter.edit.title">フィルターの修正/追加</div>
        <div class="right">
          <ons-toolbar-button onclick="createFilter()">
            <ons-icon icon="fa-check"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <div class="container">
        <p>
          <ons-input id="userid_filter" modifier="underbar" placeholder="ユーザーID (例: knzk@knzk.me)" data-i18n="[placeholder]app_filter.edit.placeholder"
            class="w-max"></ons-input>
        </p>
      </div>
      <ons-list>
        <ons-list-header data-i18n="app_filter.edit.mute.title">非表示の項目</ons-list-header>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_all"></ons-checkbox>
          </label>
          <label for="filter_all" class="center" data-i18n="app_filter.edit.mute.all">すべて</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_toot"></ons-checkbox>
          </label>
          <label for="filter_toot" class="center" data-i18n="app_filter.edit.mute.toot">トゥート</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_follow"></ons-checkbox>
          </label>
          <label for="filter_follow" class="center" data-i18n="app_filter.edit.mute.follow">フォロー通知</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_mention"></ons-checkbox>
          </label>
          <label for="filter_mention" class="center" data-i18n="app_filter.edit.mute.mention">メンション通知</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_boost"></ons-checkbox>
          </label>
          <label for="filter_boost" class="center" data-i18n="app_filter.edit.mute.boost">ブースト通知</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filter_fav"></ons-checkbox>
          </label>
          <label for="filter_fav" class="center" data-i18n="app_filter.edit.mute.favourite">お気に入り通知</label>
        </ons-list-item>

        <ons-list-header data-i18n="app_filter.edit.mute.push">プッシュ通知から除外</ons-list-header>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_all"></ons-checkbox>
          </label>
          <label for="filterpush_all" class="center" data-i18n="app_filter.edit.mute.all">すべて</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_keyword"></ons-checkbox>
          </label>
          <label for="filterpush_keyword" class="center" data-i18n="app_filter.edit.mute.keyword">キーワード検知</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_follow"></ons-checkbox>
          </label>
          <label for="filterpush_follow" class="center" data-i18n="app_filter.edit.mute.follow">フォロー</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_mention"></ons-checkbox>
          </label>
          <label for="filterpush_mention" class="center" data-i18n="app_filter.edit.mute.mention">メンション</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_reblog"></ons-checkbox>
          </label>
          <label for="filterpush_reblog" class="center" data-i18n="app_filter.edit.mute.boost">ブースト</label>
        </ons-list-item>
        <ons-list-item tappable>
          <label class="left">
            <ons-checkbox input-id="filterpush_favourite"></ons-checkbox>
          </label>
          <label for="filterpush_favourite" class="center" data-i18n="app_filter.edit.mute.favourite">お気に入り</label>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>

  <ons-template id="config_TL.html">
    <ons-page id="config_TL-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.preferences">設定</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="config.preferences.tl.edit.title">タイムライン編集</div>
        <div class="right">
          <ons-toolbar-button onclick="AddTLConfig()">
            <ons-icon icon="fa-plus"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-list>
        <ons-list-header data-i18n="config.preferences.tl.edit.note">ボタンで編集できます</ons-list-header>
        <ons-list-item>
          <label class="left" data-i18n="config.preferences.tl.edit.load">
            最初に表示するTL
          </label>
          <label class="right" data-i18n="config.preferences.tl.edit.sort">
            順番
          </label>
        </ons-list-item>
      </ons-list>
      <ons-list id="tlconf-list">
      </ons-list>
    </ons-page>
  </ons-template>

  <ons-template id="lists.html">
    <ons-page id="lists-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="lists.title">リスト</div>
        <div class="right">
          <ons-toolbar-button onclick="editList()">
            <ons-icon icon="fa-plus"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-list id="lists-list"></ons-list>
    </ons-page>
  </ons-template>

  <ons-template id="lists_people.html">
    <ons-page id="lists_people-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="lists.people.title">リスト編集</div>
      </ons-toolbar>
      <ons-list modifier="inset">
        <ons-search-input placeholder="Search" onkeydown="SearchListKey()" input-id="List-search"></ons-search-input>
        <div id="searchpeople-list"></div>
      </ons-list>
      <p></p>
      <ons-list-header data-i18n="lists.people.accounts">リストに登録しているアカウント</ons-list-header>
      <ons-list id="people-list"></ons-list>
    </ons-page>
  </ons-template>

  <ons-template id="post.html">
    <ons-page id="toot-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab('down')">
            <ons-icon icon="fa-times"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="toot.toot">トゥート！</div>
        <div class="right">
          <ons-toolbar-button onclick="show_bbcodegen('toot_textarea', 'toot-limit', 'toot-button')" id="bbcode_bt" class="invisible">
            <ons-icon icon="fa-font"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <p></p>
      <div class="container">
        <div class="reply-box invisible" id="post_reply_box">
          <ons-icon icon="fa-reply"></ons-icon>
          <span data-i18n="toot.reply.prefix"></span><span id="post_reply_acct"></span><span data-i18n="toot.reply.suffix">
            へ返信</span>
        </div>
        <div id="vote_new_list" style="display: none;">
          <p>
            <ons-input id="vote_new_1" modifier="underbar" placeholder="項目1" data-i18n="[placeholder]toot.enquete.column1" class="w-max"></ons-input>
            <ons-input id="vote_new_2" modifier="underbar" placeholder="項目2" data-i18n="[placeholder]toot.enquete.column2" class="w-max"></ons-input>
            <ons-input id="vote_new_3" modifier="underbar" placeholder="項目3(任意)" data-i18n="[placeholder]toot.enquete.column3" class="w-max"></ons-input>
            <ons-input id="vote_new_4" modifier="underbar" placeholder="項目4(任意)" data-i18n="[placeholder]toot.enquete.column4" class="w-max"></ons-input>
            <ons-select id="vote_new_time" class="w-max invisible" modifier="underbar">
              <option value="30" data-i18n="toot.enquete.30s">30秒</option>
              <option value="60" data-i18n="toot.enquete.1m">1分</option>
              <option value="180" data-i18n="toot.enquete.3m">3分</option>
              <option value="300" data-i18n="toot.enquete.5m">5分</option>
              <option value="600" data-i18n="toot.enquete.10m">10分</option>
              <option value="3600" data-i18n="toot.enquete.1h">1時間</option>
              <option value="86400" data-i18n="toot.enquete.1d">1日</option>
            </ons-select>
          </p>
        </div>
        <ons-input id="cw_input" modifier="underbar" placeholder="警告文を書いてください" data-i18n="[placeholder]toot.cw" class="w-max" style="display: none;"
          onkeyup="check_limit(value, 'toot-limit', 'toot-button', 'toot_textarea');"></ons-input>
        <textarea class="textarea dark-box-in" rows="6" placeholder="今なにしてる？" data-i18n="[placeholder]toot.toot_box_placeholder"
          id="toot_textarea" style="width: 100%" onkeyup="check_limit(value, 'toot-limit', 'toot-button', 'cw_input');"></textarea>
        <div class="dark-box" style="border-radius: 0">
          <input type="hidden" id="nsfw_input">
          <input type="hidden" id="localonly_input">
          <input type="hidden" id="post_mode" value="public">
          <input type="hidden" id="post_reply">
          <input type="file" id="post_file" class="invisible" onchange="up_file()" accept="image/*;capture=camera">
          <ons-button modifier="quiet" onclick="up_file()" style="border-radius: 0" id="new_up_bt">
            <ons-icon icon="fa-picture-o"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="post_nsfw()" style="border-radius: 0" id="nsfw_bt">
            <ons-icon icon="fa-eye"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="post_cw()" style="border-radius: 0" id="cw_bt">CW</ons-button>
          <ons-button modifier="quiet" onclick="post_vote()" style="border-radius: 0" id="vote_bt" class="invisible">
            <ons-icon icon="fa-align-left"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="openDoodle()">
            <ons-icon icon="fa-paint-brush"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="showPopover(this, 'emoji_popover')" id="toot_emoji_bt">
            <ons-icon icon="fa-smile-o"></ons-icon>
          </ons-button>
        </div>
        <div class="dark-box">
          <ons-button modifier="quiet" onclick="post_mode()" style="border-radius: 0 0 0 4px" id="post_mode_bt">
            <ons-icon icon="fa-globe" id="post_mode_icon"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="post_localonly()" style="border-radius: 0" id="localonly_bt" class="invisible">
            <ons-icon icon="fa-home"></ons-icon>
          </ons-button>
          <ons-button modifier="quiet" onclick="add_emoji_simple('｜漢字《》', 1)" style="border-radius: 0" id="yomigana_bt" class="invisible">読み</ons-button>
          <span style="float: right">
            <b id="toot-limit" class="toot-limit">4096</b>
            <ons-button onclick="post('toot_textarea', {cw:elemId('cw_input').value, visibility:elemId('post_mode').value, sensitive:elemId('nsfw_input').value, in_reply_to_id: elemId('post_reply').value, local_only: elemId('localonly_input').value})"
              id="toot-button" style="border-radius: 4px 0 4px 0;">トゥート！</ons-button>
          </span>
        </div>
        <div id="md-box" class="invisible">
          <p></p>
          <div class="dark-box-header">
            Markdown
          </div>
          <div class="dark-box">
            <ons-button modifier="quiet" onclick="add_emoji_simple('\n# 内容', 1)">見出し</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('~~内容~~', 1)">打ち消し</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('\n> 内容', 1)">引用</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('`内容`', 1)">コード</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('\n***\n', 1)">線</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('*内容*', 1)">上付き</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('**内容**', 1)">下付き</ons-button>
            <ons-button modifier="quiet" onclick="add_emoji_simple('[表示する文字](URL)', 1)">リンク</ons-button>
          </div>
        </div>
        <div id="image_list"></div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="bbcode.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center">BBCode</div>
        <div class="right">
          <ons-toolbar-button onclick="bbcodegen()">
            <ons-icon icon="fa-plus"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <p></p>
      <input type="hidden" id="bbcode_color">
      <div class="container">
        <p>
          <ons-input id="bbcode_text" modifier="underbar" placeholder="文字列" data-i18n="[placeholder]toot.bbcode.text" class="w-max"></ons-input>
        </p>
      </div>
      <ons-list>
        <ons-list-item>
          <div class="center" data-i18n="toot.bbcode.base.title">
            基本
          </div>
          <div class="right">
            <ons-select id="bbcode_base" modifier="underbar">
              <option value="" data-i18n="toot.bbcode.base.none">なし</option>
              <option value="b" data-i18n="toot.bbcode.base.bold"><b>太字</b></option>
              <option value="i" data-i18n="toot.bbcode.base.italic"><i>斜体</i></option>
              <option value="u" data-i18n="toot.bbcode.base.underline"><u>アンダーライン</u></option>
              <option value="s" data-i18n="toot.bbcode.base.strikethrough"><s>取り消し</s></option>
            </ons-select>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="toot.bbcode.color">
            色指定
          </div>
          <div class="right">
            <div class="color-box-mini" id="color-box-mini"></div>

            <ons-button onclick="color_mode=null;loadNav('color.html')">変更</ons-button>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="toot.bbcode.size">
            大きさ
          </div>
          <div class="right">
            <ons-select id="bbcode_large" modifier="underbar">
              <option value="">1x</option>
              <option value="2">2x</option>
              <option value="3">3x</option>
              <option value="4">4x</option>
              <option value="5">5x</option>
            </ons-select>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="toot.bbcode.spin">
            回転
          </div>
          <div class="right">
            <ons-input id="bbcode_spin" modifier="underbar" type="number" value="0"></ons-input>
          </div>
        </ons-list-item>
        <ons-list-item>
          <div class="center" data-i18n="toot.bbcode.bbcode_pulse">
            点滅
          </div>
          <div class="right">
            <ons-input id="bbcode_pulse" modifier="underbar" type="number" value="0"></ons-input>
          </div>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <ons-template id="color.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="toot.bbcode.color">カラー選択</div>
      </ons-toolbar>
      <p></p>
      <div class="container">
        <div id="color-default">
          <div class="row">
            <div class="col-xs-4 color-box-base" onclick="bbcode_color()">
              <div class="color-box" data-i18n="toot.bbcode.color_default">(標準)</div>
            </div>
          </div>
          <hr>
        </div>
        <div class="row">
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('d95959')">
            <div class="color-box" style="background-color: #d95959;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('b47434')">
            <div class="color-box" style="background-color: #b47434;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('8e8e0e')">
            <div class="color-box" style="background-color: #8e8e0e;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('62a222')">
            <div class="color-box" style="background-color: #62a222;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('35b535')">
            <div class="color-box" style="background-color: #35b535;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('2eae6e')">
            <div class="color-box" style="background-color: #2eae6e;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('26a6a6')">
            <div class="color-box" style="background-color: #26a6a6;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('4c8ccc')">
            <div class="color-box" style="background-color: #4c8ccc;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('7171f1')">
            <div class="color-box" style="background-color: #7171f1;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('9e5ede')">
            <div class="color-box" style="background-color: #9e5ede;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('cb4bcb')">
            <div class="color-box" style="background-color: #cb4bcb;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('d25292')">
            <div class="color-box" style="background-color: #d25292;"></div>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('FF0000')">
            <div class="color-box" style="background-color: #FF0000;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('0000FF')">
            <div class="color-box" style="background-color: #0000FF;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('FFFF00')">
            <div class="color-box" style="background-color: #FFFF00;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('008000')">
            <div class="color-box" style="background-color: #008000;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('000000')">
            <div class="color-box" style="background-color: #000000;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('FFFFFF')">
            <div class="color-box" style="background-color: #FFFFFF;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('87CEEB')">
            <div class="color-box" style="background-color: #87CEEB;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('FF5B92')">
            <div class="color-box" style="background-color: #FF5B92;"></div>
          </div>
          <div class="col-xs-4 color-box-base" onclick="bbcode_color('A55A4A')">
            <div class="color-box" style="background-color: #A55A4A;"></div>
          </div>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="doodle.html">
    <ons-page id="doodle-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="closeDoodle()">
            <ons-icon icon="fa-times"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          <ons-toolbar-button onclick="showPopover(this, 'doodle_popover')">
            <ons-icon icon="fa-ellipsis-h"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="right">
          <ons-toolbar-button onclick="Doodle_changeMode()">
            <ons-icon icon="fa-pencil" id="doodle_pen_bt"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <ons-popover direction="down" id="doodle_popover">
        <div>
          <ons-list>
            <ons-list-item>
              <div class="left">
                <ons-button class="no-rd" modifier="quiet" onclick="Doodle_upload()">
                  <ons-icon icon="fa-cloud-upload"></ons-icon>
                </ons-button>
              </div>
              <div class="right">
                <ons-button class="no-rd" modifier="quiet" onclick="Doodle_reset()">
                  <ons-icon icon="fa-eraser"></ons-icon>
                </ons-button>
              </div>
            </ons-list-item>
            <ons-list-item>
              <div class="center">
                Smooth
              </div>
              <div class="right">
                <ons-switch modifier="material" onclick="Doodle_config('smooth')" input-id="doodle_smooth"></ons-switch>
              </div>
            </ons-list-item>
            <ons-list-item>
              <div class="center">
                Adaptive
              </div>
              <div class="right">
                <ons-switch modifier="material" onclick="Doodle_config('adaptive')" input-id="doodle_adaptive"></ons-switch>
              </div>
            </ons-list-item>
            <ons-list-item>
              <div class="center" data-i18n="toot.doodle.color">
                色
              </div>
              <div class="right">
                <div class="color-box-mini" id="doodle-color-box-mini" style="background-color: rgb(0, 0, 0);"></div>

                <ons-button onclick="color_mode='doodle';show_colorpicker()">変更</ons-button>
              </div>
            </ons-list-item>
            <ons-list-item>
              <div class="center" data-i18n="toot.doodle.weight">
                太さ
              </div>
              <div class="right">
                <ons-input modifier="underbar" type="number" value="2" id="doodle_weight" onchange="sketcher.weight=parseInt(elemId('doodle_weight').value)"></ons-input>
              </div>
            </ons-list-item>
            <ons-list-item style="padding-left: 6px;">
              <div class="center">
                <ons-button onclick="hidePopover('doodle_popover')" class="w-max y-center" data-i18n="navigation.close">閉じる</ons-button>
              </div>
            </ons-list-item>
          </ons-list>
        </div>
      </ons-popover>
      <canvas id="mySketcher"></canvas>
    </ons-page>
  </ons-template>
  <ons-template id="showtoot.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <div id="show_toot">
        <div class="loading-now">
          <ons-progress-circular indeterminate></ons-progress-circular>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="showtag.html">
    <ons-page id="showtag-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" id="showtag_title">
          Loading now...
        </div>
        <div class="right">
          <ons-toolbar-button onclick="post_pre('#'+ decodeURI(tag_str))">
            <ons-icon icon="fa-pencil"></ons-icon>
          </ons-toolbar-button>
          <ons-toolbar-button onclick="addTagToTimeline(decodeURI(tag_str))">
            <ons-icon icon="fa-plus"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <div id="tag_main">
        <div class="loading-now">
          <ons-progress-circular indeterminate></ons-progress-circular>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="olist.html">
    <ons-page id="olist">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="fa-bars"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center" id="olist_title">Loading now...</div>
      </ons-toolbar>
      <div id="olist_main">
        <div class="loading-now">
          <ons-progress-circular indeterminate></ons-progress-circular>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="olist_nav.html">
    <ons-page id="olist_nav">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" id="olist_nav_title">Loading now...</div>
        <div class="right" id="olist_right">
        </div>
      </ons-toolbar>
      <div id="olist_nav_main">
        <div class="loading-now">
          <ons-progress-circular indeterminate></ons-progress-circular>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="account.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" id="userpage-title">Loading now...</div>
      </ons-toolbar>
      <ons-pull-hook id="ph-acct" class="dark-bg">
        <ons-icon icon="fa-refresh" class="white"></ons-icon>
      </ons-pull-hook>
      <div id="acct-moved-base" class="invisible">
        <p class="moved-text">
          <ons-icon icon="fa-suitcase"></ons-icon>
          <span data-i18n="account.moved">引っ越しました</span>:
        </p>
        <div id="acct-moved"></div>
      </div>
      <input type="hidden" id="acct_block">
      <input type="hidden" id="acct_mute">
      <div class="userpage-button-bg">
        <ons-icon icon="fa-bars" class="userpage-button" onclick="account_action(account_page_id)" id="acct_action_bt"></ons-icon>
      </div>
      <div class="userpage-button-bg userpage-button-right">
        <ons-icon icon="fa-user-plus" class="userpage-button" id="userpage-follow-button" onclick="account_state_action(account_page_id, 'follow')"></ons-icon>
        <div class="userpage-follower invisible" id="userpage-followreq-badge" data-i18n="account.followreq">承認待ち</div>
        <div class="userpage-follower invisible" id="userpage-follower-badge" data-i18n="account.follower">フォロワー</div>
        <div class="userpage-follower invisible" id="userpage-mute-badge" data-i18n="account.mute">ミュート中</div>
        <div class="userpage-follower invisible" id="userpage-block-badge" data-i18n="account.block">ブロック中</div>
      </div>
      <div class="user-bg y-center" id="userpage-bg">
        <img src="img/missing.png" id="userpage-icon" class="user-logo-profile" />
        <div class="card-bio">
          <h3 id="userpage-name" class="user-name"></h3>
          <div class="user-acct">
            <span id="userpage-acct"></span>
            <ons-icon icon="fa-lock" id="userpage-lock" class="invisible"></ons-icon>
          </div>
          <div class="user-bio" id="userpage-bio"></div>
          <div class="user-follow">
            <div class="account_activity">
              <b id="userpage-post-count"></b><br>
              <span data-i18n="account.toots">投稿</span>
            </div>
            <div onclick="list('accounts/'+account_page_id+'/following', i18next.t('account.following'), null, 'acct', true)" class="account_activity">
              <b id="userpage-follow"></b><br>
              <span data-i18n="account.following">フォロー</span>
            </div>
            <div onclick="list('accounts/'+account_page_id+'/followers', i18next.t('account.followers'), null, 'acct', true)" class="account_activity">
              <b id="userpage-follower"></b><br>
              <span data-i18n="account.followers">フォロワー</span>
            </div>
          </div>
        </div>
      </div>
      <div id="bio_field"></div>
      <div class="account_bar" style="border-bottom: none;">
        <div class="account_links">
          <span class="account_tab_left account_tab" style="width: 100%;" id="userpage-hint"><span class="note" data-i18n="account.note">リモートアカウントの為、情報が不正確な可能性があります。</span></span>
        </div>
      </div>
      <div class="account_bar account_bar_mode">
        <div class="account_links">
          <span class="account_tab_left account_tab" onclick="showAccountTL(account_page_id, null, 'pinned')" id="acctTL_mode_pinned"
            data-i18n="account.pinned">固定</span>
          <span class="account_tab acctTL_now" onclick="showAccountTL(account_page_id)" id="acctTL_mode_" data-i18n="account.toots">投稿</span>
          <span class="account_tab" onclick="showAccountTL(account_page_id, null, 'with_re')" id="acctTL_mode_with_re" data-i18n="account.replies">+返信</span>
          <span class="account_tab" onclick="showAccountTL(account_page_id, null, 'media')" id="acctTL_mode_media" data-i18n="account.media">メディア</span>
        </div>
      </div>
      <div id="account_toot"></div>
    </ons-page>
  </ons-template>
  <ons-template id="about.html">
    <ons-page id="about-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="config.preferences.about_app">このアプリについて</div>
      </ons-toolbar>
      <p></p>
      <div class="container">
        <div class="w-max main-logo y-center">
          <img src="img/logo.svg" style="width: 80%;" />
        </div>
        <p>
          <b id="app-version">KnzkApp</b>
        </p>
        <span class="fa fa-spin"><b>南無！ｗ</b></span>
        <p></p>
        <p>
          <span data-i18n="config.preferences.about_app_note.l1">KnzkAppはオープンソースソフトウェアです。</span><br><span data-i18n="config.preferences.about_app_note.l2_pre"></span><a
            href="https://github.com/KnzkDev/KnzkApp" target="_blank"><i class="fa fa-github"></i> KnzkDev/KnzkApp</a><span
            data-i18n="config.preferences.about_app_note.l2_suf"> から開発に参加したり、問題を報告する事ができます。</span>
        </p>
      </div>
      <ons-list>
        <ons-list-item onclick="openURL('https://github.com/KnzkDev/KnzkApp/wiki/License')">OSS License</ons-list-item>
        <ons-list-item onclick="openURL('https://knzkapp.nzws.me/privacy.html')"><span data-i18n="config.preferences.about_app_note.privacy_policy">KnzkApp
            プライバシーポリシー
          </span></ons-list-item>
        <ons-list-header>Credit</ons-list-header>
        <ons-list-item onclick="openURL('https://knzk.me/@y')">
          <span class="list-item__title">nzws (ねじわさ)</span>
          <span class="list-item__subtitle">Lead developer😆</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@imbsky')">
          <span class="list-item__title">imbsky</span>
          <span class="list-item__subtitle">Developer</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@annotunzdy')">
          <span class="list-item__title">annotunzdy (あんのたん)</span>
          <span class="list-item__subtitle">Developer / Support of iOS version</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@yuzumina')">
          <span class="list-item__title">yuzumina</span>
          <span class="list-item__subtitle">English translator</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@Knzk')">
          <span class="list-item__title">Knzk (神崎おにいさん)</span>
          <span class="list-item__subtitle">Founder of Knzk.me✨</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@nct')">
          <span class="list-item__title">nct (なこた)</span>
          <span class="list-item__subtitle">Shadow ruler of Knzk.me💪</span>
        </ons-list-item>
        <ons-list-item onclick="openURL('https://knzk.me/@twotwo')">
          <span class="list-item__title">twotwo (ネイティオ)</span>
          <span class="list-item__subtitle">Logo designer (older)</span>
        </ons-list-item>
      </ons-list>
    </ons-page>
  </ons-template>
  <ons-template id="login.html">
    <ons-page id="login-page">
      <ons-toolbar>
        <div class="left" id="login_left"></div>
        <div class="center" data-i18n="login.title">
          KnzkAppにログイン
        </div>
        <div class="right">
          <ons-toolbar-button onclick="loadNav('about.html')">
            <ons-icon icon="fa-info-circle"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>
      <div class="container">
        <div class="y-center">
          <div class="w-max main-logo login_list">
            <p><b>Knzk.me</b></p>
            <img src="img/logo.svg" style="width: 60%;" />
            <p class="y-center">
              <ons-button onclick="login_open('knzk.me')" style="width: 80%;"><b data-i18n="login.login">ログイン</b></ons-button>
            </p>
            <p><a href="https://knzk.me/about/more" data-i18n="login.terms">利用規約</a> | <a href="https://knzk.me/terms" data-i18n="login.privacy_policy">プライバシーポリシー</a></p>
          </div>
          <div class="w-max main-logo login_list">
            <p><b>now.kibousoft.co.jp</b></p>
            <p class="y-center">
              <ons-button onclick="login_open('now.kibousoft.co.jp')" style="width: 80%;"><b data-i18n="login.login">ログイン</b></ons-button>
            </p>
            <p><a href="https://now.kibousoft.co.jp/about/more" data-i18n="login.terms">利用規約</a> | <a href="http://kibousoft.com/privacy.html"
                data-i18n="login.privacy_policy">プライバシーポリシー</a></p>
          </div>
          <div class="w-max main-logo login_list">
            <p><b data-i18n="login.other">他のインスタンス</b></p>
            <ons-input id="inst_url" modifier="underbar" placeholder="mastodon.social" float></ons-input>
            <p class="y-center">
              <ons-button onclick="login_open_c(elemId('inst_url').value)" style="width: 80%;"><b data-i18n="login.login">ログイン</b></ons-button>
            </p>
          </div>
          <div class="w-max main-logo login_list" id="login_debug">
            <p data-i18n="login.advance.title">(上級者向け)トークンを直接入力してログイン</p>
            <p class="y-center">
              <ons-input id="login_debug_domain" modifier="underbar" placeholder="ドメイン (例: mastodon.social)" data-i18n="[placeholder]login.advance.domain"
                float style="width: 80%;"></ons-input>
              <ons-input id="login_debug_token" modifier="underbar" placeholder="アクセストークン" data-i18n="[placeholder]login.advance.token"
                float style="width: 80%;"></ons-input>
            </p>
            <p class="y-center">
              <ons-button onclick="debug_login()" style="width: 80%;"><b data-i18n="login.login">ログイン</b></ons-button>
            </p>
          </div>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-template id="tutorial.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab('down')" data-i18n="tutorial.skip">
            スキップ
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="tutorial.title">KnzkAppへようこそ</div>
        <div class="right">
          <div class="left">
            <ons-toolbar-button onclick="next_tutorial()">
              <ons-icon icon="fa-chevron-right" id="tutorial_next_icon"></ons-icon>
              <span id="tutorial_next_label" data-i18n="tutorial.next">次へ</span>
            </ons-toolbar-button>
          </div>
        </div>
      </ons-toolbar>
      <ons-carousel fullscreen swipeable auto-scroll id="tutorial_c">
        <ons-carousel-item class="container tutorial">
          <h3 data-i18n="tutorial.title">KnzkAppへようこそ！</h3>
          <p data-i18n="tutorial.page1.L1">KnzkAppは、元々Knzk.meのBBCode(文字装飾)をアプリでも見られるように開発されたMastodonクライアントです。</p>
          <p data-i18n="tutorial.page1.L2">現在では様々なインスタンスの独自仕様に対応しています。</p>
        </ons-carousel-item>
        <ons-carousel-item class="container tutorial">
          <p data-i18n="tutorial.page2.L1">KnzkAppでは、主にタイムラインの下にあるフォームから投稿できます。</p>
          <p data-i18n="tutorial.page2.L2">このフォームは、黒い部分(本文を入力する部分)をタップする事で細かなボタンが表示されます。ボタンを押すと、それぞれの説明を表示します。</p>
          <ons-bottom-toolbar id="tutorial_toot_TL_toolbar">
            <form id="tutorial_toot_form">
              <ons-list>
                <ons-list-item style="padding-left: 0" class="simple-toot">
                  <div class="left" style="padding-right: 6px">
                    <ons-button modifier="quiet" onclick="tutorial_alert('menu')" class="no-rd">
                      <ons-icon icon="fa-bars"></ons-icon>
                    </ons-button>
                  </div>
                  <div class="center">
                    <textarea class="textarea w-max" rows="1" placeholder="トゥート！(サンプル)" data-i18n="[placeholder]tutorial.page2.toot" onfocus="tutorial_open()"
                      id="tutorial_toot_TL_input"></textarea>
                  </div>
                  <div class="right" style="padding-right: 0">
                    <ons-button modifier="quiet" onclick="tutorial_alert('toot')" class="no-rd">
                      <ons-icon icon="fa-paper-plane-o"></ons-icon>
                    </ons-button>
                  </div>
                </ons-list-item>
              </ons-list>
              <ons-list>
                <ons-list-item style="padding-left: 0" class="simple-toot invisible" id="tutorial_more">
                  <ons-button modifier="quiet" class="no-rd" onclick="tutorial_alert('privacy')">
                    <ons-icon icon="fa-globe"></ons-icon>
                  </ons-button>
                  <ons-button modifier="quiet" onclick="showPopover(this, 'image_popover_t')" class="no-rd">
                    <ons-icon icon="fa-picture-o"></ons-icon>
                  </ons-button>
                  <ons-button modifier="quiet" onclick="showPopover(this, 'cw_popover_t')" class="no-rd">CW</ons-button>
                  <ons-button onclick="tutorial_alert('local_only')" modifier="quiet" class="no-rd invisible" id="localonly_bt_tutorial">
                    <ons-icon icon="fa-home"></ons-icon>
                  </ons-button>
                  <ons-button modifier="quiet" onclick="showPopover(this, 'tools_popover_t')" class="no-rd" id="tools_bt_tutorial">
                    <ons-icon icon="fa-magic"></ons-icon>
                  </ons-button>
                  <ons-button modifier="quiet" onclick="tutorial_alert('emoji')" class="no-rd">
                    <ons-icon icon="fa-smile-o"></ons-icon>
                  </ons-button>
                  <ons-button modifier="quiet" class="no-rd" id="toot_limit_tutorial">4096</ons-button>
                  <ons-button modifier="quiet" class="no-rd" onclick="tutorial_close()">
                    <ons-icon icon="fa-chevron-down"></ons-icon>
                  </ons-button>
                </ons-list-item>
              </ons-list>
            </form>
          </ons-bottom-toolbar>
          <ons-popover direction="up" id="tools_popover_t">
            <div style="padding: 10px; text-align: center;">
              <div class="tutorial_box" data-i18n="tutorial.page2.alert.deco_box">このボックスで様々な追加機能を使用する事ができます。</div>
              <p>
                <ons-button onclick="showPopover(elemId('tools_bt_tutorial'), 'vote_popover_t')" class="w-max invisible" id="vote_bt_tutorial">
                  <ons-icon icon="fa-align-left"></ons-icon>
                  Enquete
                </ons-button>
                <ons-button onclick="tutorial_alert('bbcode')" class="w-max invisible" style="margin-top: 5px" id="bbcode_bt_tutorial">
                  <ons-icon icon="fa-font"></ons-icon>
                  BBCode
                </ons-button>
                <ons-button onclick="tutorial_alert('doodle')" class="w-max" style="margin-top: 5px">
                  <ons-icon icon="fa-paint-brush"></ons-icon>
                  Doodle
                </ons-button>
                <ons-button onclick="tutorial_alert('このボタンで読み仮名を追加する事ができます。 *対応インスタンスのみ')" class="w-max invisible" style="margin-top: 5px"
                  id="yomigana_bt_tutorial">読み仮名</ons-button>
                <p id="md_note_tutorial" class="invisible" data-i18n="toot.md.note">*MarkDownはスワイプメニュー→新規トゥートから使用できます</p>
              </p>
              <p>
                <ons-button onclick="hidePopover('tools_popover_t')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
              </p>
            </div>
          </ons-popover>
          <ons-popover direction="up" id="cw_popover_t">
            <div style="padding: 10px; text-align: center;">
              <div class="tutorial_box" data-i18n="tutorial.page2.alert.cw">このボックスで警告文(CW)を追加する事ができます。</div>
              <p>
                <ons-input modifier="underbar" placeholder="警告文を書いてください" data-i18n="[placeholder]toot.cw" class="w-max black_text"></ons-input>
              </p>
              <p>
                <ons-button onclick="hidePopover('cw_popover_t')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
              </p>
            </div>
          </ons-popover>
          <ons-popover direction="up" id="image_popover_t">
            <div style="padding: 10px; text-align: center;">
              <div class="tutorial_box" data-i18n="tutorial.page2.alert.picture">このボックスで画像を追加する事ができます。</div>
              <p>
                <ons-button class="w-max" data-i18n="toot.picture">画像追加</ons-button>
              </p>
              <p>
                <ons-button style="margin-bottom: 5px" id="nsfw_bt_simple" modifier="quiet">
                  <ons-icon icon="fa-eye"></ons-icon>
                  NSFW
                </ons-button>
                <ons-button onclick="hidePopover('image_popover_t')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
              </p>
            </div>
          </ons-popover>
          <ons-popover direction="up" id="vote_popover_t">
            <div style="padding: 10px; text-align: center;">
              <div class="tutorial_box" data-i18n="tutorial.page2.alert.enquete">このボックスで投票を作成する事ができます。 *対応インスタンスのみ</div>
              <p>
                <ons-input id="vote_new_1" modifier="underbar" placeholder="項目1" data-i18n="[placeholder]toot.enquete.column1" class="w-max"></ons-input>
                <ons-input id="vote_new_2" modifier="underbar" placeholder="項目2" data-i18n="[placeholder]toot.enquete.column2" class="w-max"></ons-input>
                <ons-input id="vote_new_3" modifier="underbar" placeholder="項目3(任意)" data-i18n="[placeholder]toot.enquete.column3" class="w-max"></ons-input>
                <ons-input id="vote_new_4" modifier="underbar" placeholder="項目4(任意)" data-i18n="[placeholder]toot.enquete.column4" class="w-max"></ons-input>
                <ons-select id="vote_new_time" class="w-max invisible" modifier="underbar">
                  <option value="30" data-i18n="toot.enquete.30s">30秒</option>
                  <option value="60" data-i18n="toot.enquete.1m">1分</option>
                  <option value="180" data-i18n="toot.enquete.3m">3分</option>
                  <option value="300" data-i18n="toot.enquete.5m">5分</option>
                  <option value="600" data-i18n="toot.enquete.10m">10分</option>
                  <option value="3600" data-i18n="toot.enquete.1h">1時間</option>
                  <option value="86400" data-i18n="toot.enquete.1d">1日</option>
                </ons-select>
              </p>
              <p>
                <ons-button onclick="hidePopover('vote_popover_t')" class="w-max" data-i18n="navigation.close">閉じる</ons-button>
              </p>
            </div>
          </ons-popover>
        </ons-carousel-item>
        <ons-carousel-item class="container tutorial">
          <p data-i18n="tutorial.page3.L1">タイムラインは、左右にスワイプするか、メニューバーの矢印で切り替える事ができます。</p>
          <p><img src="img/tutorial.png" class="img-responsive" /> </p>
        </ons-carousel-item>
        <ons-carousel-item class="container tutorial">
          <h3 data-i18n="tutorial.page4.L1">簡単な説明は以上です。</h3>
          <p data-i18n="[html]tutorial.page4.L2">お困りの際や要望などがあれば、開発者(<a href="https://knzk.me/@y">@y@knzk.me</a>)に質問してみてください。</p>
          <p><b data-i18n="tutorial.page4.L3">ボナペトゥート！</b></p>
        </ons-carousel-item>
      </ons-carousel>
    </ons-page>
  </ons-template>
  <ons-template id="qrcode.html">
    <ons-page id="qrcode-page">
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="BackTab()">
            <ons-icon icon="fa-chevron-left"></ons-icon>
            <span data-i18n="navigation.back">戻る</span>
          </ons-toolbar-button>
        </div>
        <div class="center" data-i18n="qrcode.title">QRコード</div>
      </ons-toolbar>
      <p></p>
      <div class="container">
        <div class="w-max y-center">
          <p><img style="width: 80%;border-radius: 8%;" id="qrimg" /></p>
          <p>
            <h3 id="qr-userid"></h3>
          </p>
          <div class="main-logo" style="padding: 5px">
            <span data-i18n="qrcode.node.L1">この画面をスクショするか直接見せてあなたのアカウントを簡単に共有することができます。</span><br><br>
            <span data-i18n="qrcode.node.L2">QRコードは通常のQRコードリーダーアプリ等で読み取ってください。</span>
          </div>
        </div>
      </div>
    </ons-page>
  </ons-template>
  <ons-popover direction="up" id="emoji_popover">
    <div style="padding: 5px; text-align: center;">
      <ons-input id="emoji_search" modifier="transparent" placeholder="Search emojis" float class="black_text w-max" onkeyup="searchEmoji(this.value)"></ons-input>
      <ons-button modifier="quiet" onclick="hidePopover('emoji_popover')" class="close_button black_text"><i class="fa fa-times fa-fw"></i></ons-button>
      <div class="ep_category">
        <button class="button button--quiet" onclick="jumpEmoji('custom')" id="ep_bt_custom">✱</button>
        <button class="button button--quiet" onclick="jumpEmoji('People')"><img class="emoji" draggable="false" alt="😀"
            src="https://twemoji.maxcdn.com/2/72x72/1f600.png"></button>
        <button class="button button--quiet" onclick="jumpEmoji('Nature')"><img class="emoji" draggable="false" alt="🐶"
            src="https://twemoji.maxcdn.com/2/72x72/1f436.png"></button>
        <button class="button button--quiet" onclick="jumpEmoji('Foods')"><img class="emoji" draggable="false" alt="🍏" src="https://twemoji.maxcdn.com/2/72x72/1f34f.png"></button>
        <button class="button button--quiet" onclick="jumpEmoji('Activity')"><img class="emoji" draggable="false" alt="⚽️"
            src="https://twemoji.maxcdn.com/2/72x72/26bd.png">️</button>
        <button class="button button--quiet" onclick="jumpEmoji('Places')"><img class="emoji" draggable="false" alt="🚗️"
            src="https://twemoji.maxcdn.com/2/72x72/1f697.png"></button>
        <button class="button button--quiet" onclick="jumpEmoji('Objects')"><img class="emoji" draggable="false" alt="⌚"
            src="https://twemoji.maxcdn.com/2/72x72/231a.png">️</button>
        <button class="button button--quiet" onclick="jumpEmoji('Symbols')"><img class="emoji" draggable="false" alt="❤"
            src="https://twemoji.maxcdn.com/2/72x72/2764.png"></button>
        <button class="button button--quiet" onclick="jumpEmoji('Flags')"><img class="emoji" draggable="false" alt="🏳️"
            src="https://twemoji.maxcdn.com/2/72x72/1f3f3.png"></button>
      </div>
      <ons-button onclick="resetEmoji()" class="w-max invisible ep_reset_button" id="emoji_reset"><span data-i18n="emoji.reset">全てのカテゴリを表示</span></ons-button>
      <div id="emoji_loading">
        <span data-i18n="emoji.loading_now">絵文字ピッカーを生成しています...</span>
        <span class="fa fa-spin">
          <span class="fa fa-spin">
            <ons-icon icon="fa-refresh" class="white"></ons-icon>
          </span>
        </span>
      </div>
      <div id="emoji_list_popover" class="emoji_list_scroll" style="height: 250px;" data-isload="no"></div>
    </div>
  </ons-popover>
  <div id="alert_list">
    <ons-modal direction="up" id="now_loading">
      <div style="text-align: center">
        <p>
          <ons-progress-circular indeterminate></ons-progress-circular>
        </p>
      </div>
    </ons-modal>
    <ons-modal direction="up" id="starting_screen" style="background: #212121">
      <div style="text-align: center">
        <p>
          <img src="img/logo.svg" style="width: 80%;" />
        </p>
        <p>
          <b id="starting_alert">Starting now...</b>
          <b id="starting_err" class="invisible" style="color: red"><br>An error occurred...</b>
        </p>
        <p>
          <ons-progress-bar indeterminate></ons-progress-bar>
        </p>
      </div>
    </ons-modal>
    <ons-toast id="TLChangeTab">
      <div id="TLChangeList">
      </div>
    </ons-toast>
    <ons-toast id="del-post-ok">
      <span data-i18n="dialogs_html.del_post">トゥートを削除しました。</span>
    </ons-toast>
    <ons-toast id="report-post">
      <span data-i18n="dialogs_html.report">送信しました。レポートのご協力ありがとうございます。</span>
    </ons-toast>
    <ons-toast id="ok-clear-alert">
      <span data-i18n="dialogs_html.del_notification">通知を消去しました。</span>
    </ons-toast>
    <ons-toast id="ok_conf">
      <span data-i18n="dialogs_html.ok_conf">設定を保存しました。</span>
    </ons-toast>
    <ons-toast id="ok_conf_2">
      <span data-i18n="dialogs_html.ok_conf_2">設定しました。</span>
    </ons-toast>
    <ons-toast id="del_ok">
      <span data-i18n="dialogs_html.del_ok">削除しました。</span>
    </ons-toast>
    <ons-toast id="post_now">
      <span data-i18n="dialogs_html.post_now">投稿しています...</span>
      <span class="fa fa-spin">
        <span class="fa fa-spin">
          <ons-icon icon="fa-refresh" class="white"></ons-icon>
        </span>
      </span>
    </ons-toast>
    <ons-toast id="vote-ok">
      <span data-i18n="dialogs_html.vote_ok">投票に成功しました！</span>
    </ons-toast>
    <ons-toast id="vote-ng">
      <span data-i18n="[html]dialogs_html.vote_ng">
        投票に失敗しました。<br> 投票済みか締め切りとなっている可能性があります。
      </span>
    </ons-toast>
    <!-- エラー -->
    <ons-toast id="maximum-media">
      <span data-i18n="dialogs_html.maximum_media">エラー: これ以上画像をアップする事はできません。</span>
    </ons-toast>
    <ons-toast id="bbcode-limit">
      <span data-i18n="[html]dialogs_html.bbcode_limit">
        エラー: 文字数制限を超えています！<br> 回転や点滅、文字列を少なくしてください。
      </span>
    </ons-toast>
    <ons-toast id="cannot-pros">
      <span data-i18n="[html]dialogs_html.cannot_pros">
        エラー: 実行できませんでした。<br> 接続環境が悪いか鯖落ちしている可能性があります。
      </span>
    </ons-toast>
    <ons-toast id="cannot-post">
      <span data-i18n="[html]dialogs_html.cannot_post">
        エラー: 投稿できませんでした。<br> 接続環境が悪いか鯖落ちしている可能性があります。
      </span>
    </ons-toast>
    <ons-toast id="cannot-load">
      <span data-i18n="[html]dialogs_html.cannot_load">
        エラー: 取得できませんでした。<br> 接続環境が悪いか鯖落ちしている可能性があります。
      </span>
    </ons-toast>
    <ons-alert-dialog cancelable="true" modifier="material" id="cannot-use-ls">
      <div class="alert-dialog-title" data-i18n="dialogs_html.error">エラー</div>
      <div class="alert-dialog-content">
        <span data-i18n="[html]dialogs_html.cannot_use_ls">
          OSのバージョンが古い可能性があります。<br> 詳細は開発者にお問い合わせください。
        </span>
      </div>
    </ons-alert-dialog>
    <ons-alert-dialog cancelable="true" modifier="material" id="dialog-original_post">
      <div class="alert-dialog-title" data-i18n="original_toot.title">元のトゥート</div>
      <div class="alert-dialog-content">
        <pre id="original_post_box"></pre>
      </div>
      <div class="alert-dialog-footer">
        <button class="alert-dialog-button" onclick="quote_toot(original_post_text, original_post_userid)" data-i18n="original_toot.quote.title">引用してトゥート</button>
        <button class="alert-dialog-button" onclick="copy(original_post_text)" data-i18n="copyoption.copy">コピー</button>
        <button class="alert-dialog-button" onclick="hide('dialog-original_post')" data-i18n="navigation.close">閉じる</button>
      </div>
    </ons-alert-dialog>
    <ons-toast id="ok-copy">
      <span data-i18n="dialogs_html.ok_copy">コピーしました。</span>
    </ons-toast>
    <ons-alert-dialog cancelable="true" modifier="material" id="cannot-connect-sv-login">
      <div class="alert-dialog-title" data-i18n="dialogs_html.error">エラー</div>
      <div class="alert-dialog-content">
        <span data-i18n="dialogs_html.sv_login">
          インスタンスに接続できません！<br> このインスタンスが存在しない、一時的にメンテナンス中、通信環境が悪い可能性があります。
        </span>
      </div>
      <div class="alert-dialog-footer">
        <button class="alert-dialog-button" onclick="hide('cannot-connect-sv-login')" data-i18n="navigation.close">閉じる</button>
      </div>
    </ons-alert-dialog>
    <ons-toast id="cannot-connect-sv">
      <span data-i18n="[html]dialogs_html.connect_sv">
        エラー: エラーが発生しました。<br> 再起動するなどでもう一度お試しください。
      </span>

    </ons-toast>
    <ons-toast id="cannot-connect-API">
      <span data-i18n="[html]dialogs_html.connect_API">
        エラー: APIを認証できませんでした。<br> アカ一覧から一度削除して、もう一度ログインしてください。
      </span>
    </ons-toast>
    <ons-toast id="no-acct">
      <span data-i18n="[html]dialogs_html.no_acct">
        エラー: アカウントが正常に取得できませんでした。<br> このインスタンスに登録されていない可能性があります。
      </span>
    </ons-toast>
    <ons-toast id="no-original_post">
      <span data-i18n="[html]dialogs_html.no_original">
        エラー: 取得できませんでした。
      </span>
    </ons-toast>
    <ons-alert-dialog modifier="material" id="DB_migration">
      <div class="alert-dialog-title" data-i18n="dialogs_html.DB_migrate.title">起動しています...</div>
      <div class="alert-dialog-content" data-i18n="[html]dialogs_html.DB_migrate.text">
        データベースのマイグレーション中です。<br> しばらくお待ち下さい...
      </div>
    </ons-alert-dialog>
  </div>
  <ons-toast id="error_alert">
    <span id="error_alert_text"></span>
  </ons-toast>

  <script type="text/html" id="toot_full_tmpl">
    <div class="toot post post_<%=toot['id']%> <%=toot_base_classes%>" id="post_<%=toot['id']%>" data-bgpic="" style="">
      <%=(alert_text ? alert_text : '')%>
      <div class="toot_flex">
        <% if (!no_icon) { %>
          <div width="50px">
            <img src="<%=toot['account'][getConfig(1, 'no_gif') ? 'avatar_static' : 'avatar']%>" class="icon-img" onclick="show_account('<%=toot['account']['id']%>')">
          </div>
        <% } %>
        <div class="toot-card-right">
          <div class="<%=namucard%>">
            <div class="toot-group name_box">
              <% if (!no_icon) { %>
                <div onclick="show_account('<%=toot['account']['id']%>')" class="toot_name">
                  <b><%=toot['account']['display_name']%></b> <small>@<%=toot['account']['acct']%></small>
                </div>
              <% } %>
            </div>
            <div class="toot_content tootcontent_<%=toot['id']%><%=no_icon%><%=is_col%>" data-id="<%=toot['id']%>" data-dispmode="<%=display_mode%>">
              <p>
                <%=toot['content']%>
              </p>

            </div>
          </div>
          <% if (display_mode === 'full') { %>
            <div class="toot-group tb_group_<%=toot['id']%>">
              <div class="toot-buttons">
                <ons-icon icon="fa-reply" onclick="reply('<%=toot['id']%>')" class="toot-button ons-icon fa-reply fa"></ons-icon>
                <% if (toot['visibility'] === 'private' || toot['visibility'] === 'direct' || toot['visibility'] === 'limited') { %>
                  <ons-icon icon="fa-<%=visibility_icon%>" onclick="<%=(toot['visibility'] === 'private' && toot['account']['id'] === now_user_id ? 'toot_action(1)' : '')%>" class="tootbs_<%=toot['id']%> toot-button toot-button-disabled" data-id="<%=toot['id']%>"></ons-icon>
                <% } else { %>
                  <ons-icon icon="fa-retweet" onclick="toot_action(1)" class="tootbs_<%=toot['id']%> toot-button ons-icon fa-retweet fa<%=boosted%>" data-id="<%=toot['id']%>"></ons-icon>
                <% } %>
                <ons-icon icon="fa-star" onclick="toot_action(0)" class="tootfav_<%=toot['id']%> toot-button ons-icon fa-star fa<%=faved%>" data-id="<%=toot['id']%>"></ons-icon>
                <ons-icon icon="fa-ellipsis-h" onclick="more('<%=toot['id']%>')" class="toot-button toot-button-last ons-icon fa-ellipsis-h fa"></ons-icon>
              </div>
              <div class="toot-right date date-disp" data-time="<%=toot['created_at']%>" onclick="show_post('<%=toot['id']%>')">
                <%=(displayTime('new', toot['created_at']))%>
              </div>
            </div>
          <% } %>
        </div>
      </div>
      <% if (display_mode === 'big') { %>
        <span class="big_date">
          <% if (appname) { %>(via <%=appname%>)<% } %><br>
          <%=date_text%> ·
          <span onclick="openListB('<%=toot['id']%>')"><ons-icon icon="fa-retweet" class="ons-icon fa-retweet fa"></ons-icon> <%=toot['reblogs_count']%></span> ·
          <span onclick="openListB('<%=toot['id']%>', 1)"><ons-icon icon="fa-star" class="ons-icon fa-star fa"></ons-icon> <%=toot['favourites_count']%></span>
        </span>

        <div class="row toot_big_border">
          <div class="col-xs-3 showtoot-button">
            <ons-icon icon="fa-reply" onclick="reply('<%=toot['id']%>')" class="showtoot-button ons-icon fa-reply fa"></ons-icon>
          </div>
          <div class="col-xs-3 showtoot-button">
            <% if (toot['visibility'] === 'private' || toot['visibility'] === 'direct' || toot['visibility'] === 'limited') { %>
              <ons-icon icon="fa-<%=visibility_icon%>" onclick="<%=(toot['visibility'] === 'private' && toot['account']['id'] === now_user_id ? 'toot_action(1)' : '')%>" class="tootbs_<%=toot['id']%> showtoot-button ons-icon fa-<%=visibility_icon%> fa toot-button-disabled<%=boosted%>" data-id="<%=toot['id']%>"></ons-icon>
            <% } else { %>
              <ons-icon icon="fa-retweet" onclick="toot_action(1)" class="tootbs_<%=toot['id']%> showtoot-button ons-icon fa-retweet fa<%=boosted%>" data-id="<%=toot['id']%>"></ons-icon>
            <% } %>
          </div>
          <div class="col-xs-3 showtoot-button">
            <ons-icon icon="fa-star" onclick="toot_action(0)" class="tootfav_<%=toot['id']%> showtoot-button ons-icon fa-star fa<%=faved%>" data-id="<%=toot['id']%>"></ons-icon>
          </div>
          <div class="col-xs-3 showtoot-button">
            <ons-icon icon="fa-ellipsis-h" onclick="more('<%=toot['id']%>')" class="showtoot-button ons-icon fa-ellipsis-h fa"></ons-icon>
          </div>
        </div>
      <% } %>
    </div>
  </script>

  <script type="text/html" id="account_card_tmpl">
    <ons-row class="account_card" onclick="<%=action%>">
      <ons-col width="50px">
        <img src="<%=(getConfig(1, 'no_gif') ? avatar_static : avatar)%>" class="icon-img-small" align="middle">
      </ons-col>
      <ons-col class="account_card_name">
        <b><%=display_name%></b><br>
        <small>@<%=acct%></small>
      </ons-col>
    </ons-row>
  </script>

  <script type="text/html" id="radio_tmpl">
    <ons-list-item tappable onclick="radio_set(<%=num%>)">
      <label class="left music-item">
        <ons-radio name="channel" input-id="radio_<%=num%>" <%=(isDefault === 1 ? 'checked' : '')%>></ons-radio>
      </label>
      <label for="radio_<%=num%>" class="center music-item"><%=name%><%=(sub ? '   <small>('+sub+')</small>' : '')%></label>
    </ons-list-item>
  </script>
</body>

</html>
